<!-- Auth Status -->
<div class="card mb-4">
  <div class="card-header">
    <h5 class="m-0">Authentication Status</h5>
  </div>
  <div class="card-body">
    <% if (locals.user) { %>
    <div class="auth-status-content auth-status-authenticated">
      <div class="auth-user-info">
        <div class="auth-avatar-container">
          <img
            src="<%= user.avatar || 'https://via.placeholder.com/50' %>"
            alt="Profile"
            class="auth-avatar"
          />
        </div>
        <div class="auth-user-details">
          <h5 class="auth-user-name"><%= user.name %></h5>
          <p class="auth-user-meta">
            <%= user.email %>
            <span class="auth-user-role"><%= user.role || 'user' %></span>
          </p>
          <div class="auth-badges">
            <span class="auth-badge auth-badge-success">
              <i class="fas fa-check-circle me-1"></i> Authenticated
            </span>
            <% if (user.role === 'admin') { %>
            <span class="auth-badge auth-badge-admin">
              <i class="fas fa-shield-alt me-1"></i> Admin
            </span>
            <% } %>
            <span class="auth-badge auth-badge-info">
              <i class="fas fa-clock me-1"></i> Session Active
            </span>
          </div>
        </div>
      </div>
    </div>
    <% } else { %>
    <div class="auth-status-content auth-status-unauthenticated">
      <div class="auth-icon-container">
        <i class="fas fa-user-lock auth-icon"></i>
      </div>
      <div class="auth-message">
        <span class="auth-badge auth-badge-danger">
          <i class="fas fa-times-circle me-1"></i> Not Authenticated
        </span>
        <p class="auth-message-text">
          Please login or register to test authenticated routes.
        </p>
      </div>
    </div>
    <% } %>
  </div>
</div>

<style>
  /* Authentication Status Styling */
  .auth-status-content {
    display: flex;
    align-items: center;
    padding: 0.5rem;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .auth-status-authenticated {
    background-color: rgba(28, 200, 138, 0.1);
    border-left: 4px solid #1cc88a;
  }

  .auth-status-unauthenticated {
    background-color: rgba(231, 74, 59, 0.1);
    border-left: 4px solid #e74a3b;
  }

  .auth-user-info {
    display: flex;
    align-items: center;
    width: 100%;
  }

  .auth-avatar-container {
    position: relative;
    margin-right: 1rem;
  }

  .auth-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .auth-user-details {
    flex: 1;
  }

  .auth-user-name {
    font-weight: 700;
    margin-bottom: 0.25rem;
    font-size: 1.2rem;
    color: #4e73df;
  }

  .auth-user-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    font-size: 0.9rem;
    color: #858796;
    margin-bottom: 0.5rem;
  }

  .auth-user-role {
    display: inline-block;
    margin-left: 0.75rem;
    padding: 0.2rem 0.5rem;
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    background-color: #f8f9fc;
    border: 1px solid #e3e6f0;
    color: #5a5c69;
  }

  .auth-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .auth-badge {
    display: inline-flex;
    align-items: center;
    padding: 0.35rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    color: white;
  }

  .auth-badge-success {
    background-color: #1cc88a;
  }

  .auth-badge-danger {
    background-color: #e74a3b;
  }

  .auth-badge-admin {
    background-color: #4e73df;
  }

  .auth-badge-info {
    background-color: #36b9cc;
  }

  .auth-icon-container {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: rgba(231, 74, 59, 0.2);
    margin-right: 1rem;
  }

  .auth-icon {
    font-size: 1.8rem;
    color: #e74a3b;
  }

  .auth-message {
    flex: 1;
  }

  .auth-message-text {
    margin-top: 0.5rem;
    margin-bottom: 0;
    font-size: 0.95rem;
    color: #858796;
  }
</style>
